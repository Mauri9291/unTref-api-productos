
-----

# **Trabajo Integrador: API REST de Productos üõçÔ∏è**

API RESTful desarrollada como trabajo integrador para el curso de Backend de UNTREF. El objetivo es gestionar un cat√°logo de productos, permitiendo operaciones de creaci√≥n, lectura, actualizaci√≥n y eliminaci√≥n (CRUD), as√≠ como b√∫squedas especializadas.

## **Caracter√≠sticas Principales**

* **Gesti√≥n de Productos:** Implementaci√≥n de un CRUD completo para los productos.
* **B√∫squedas Avanzadas:** Endpoints especializados para buscar productos por nombre, filtrar por categor√≠a y rango de precios.
* **Carga Masiva:** Capacidad de agregar m√∫ltiples productos en una sola petici√≥n.
* **Base de Datos NoSQL:** Uso de MongoDB con Mongoose para una gesti√≥n de datos flexible.
* **Variables de Entorno:** Configuraci√≥n segura de la base de datos utilizando archivos `.env`.

## **Tecnolog√≠as Utilizadas**

* **Node.js:** Entorno de ejecuci√≥n para JavaScript del lado del servidor.
* **Express.js:** Framework para la construcci√≥n de la API REST.
* **MongoDB:** Base de datos NoSQL orientada a documentos.
* **Mongoose:** ODM (Object Data Modeling) para modelar y conectarse a MongoDB.
* **Dotenv:** Para la gesti√≥n de variables de entorno.

---

## **Instalaci√≥n y Puesta en Marcha**

Sigue estos pasos para configurar y ejecutar el proyecto en tu entorno local.

### **1. Prerrequisitos**

Aseg√∫rate de tener instalado lo siguiente:

* [Node.js](https://nodejs.org/es/) (versi√≥n LTS recomendada)
* [MongoDB Community Server](https://www.mongodb.com/try/download/community)

### **2. Clonar el Repositorio**

```bash
git clone https://github.com/Mauri9291/unTref-api-productos.git
```

### **3. Instalar Dependencias**

Navega a la carpeta del proyecto e instala las dependencias de `npm`.

```bash
cd unTref-api-productos
npm install
```

### **4. Configurar Variables de Entorno**

1. Crea un archivo llamado `.env` en la ra√≠z del proyecto.
2. A√±ade la siguiente l√≠nea para configurar la conexi√≥n a tu base de datos local:

   ```
   MONGO_URI=mongodb://127.0.0.1:27017/catalogoDB
   ```

### **5. Poblar la Base de Datos**

Este proyecto utiliza como datos iniciales el archivo:

```
/data/productos-supermercado.json
```

Este archivo contiene un cat√°logo de productos de supermercado con la siguiente estructura de campos:

* `codigo` (string): Identificador √∫nico del producto.
* `nombre` (string): Nombre del producto.
* `precio` (number): Precio del producto.
* `categoria` (array de strings): Categor√≠as a las que pertenece el producto.

Para cargar estos datos en la base de datos, ejecuta el siguiente comando:

```bash
node seed.js
```

Este comando borra los datos anteriores de la colecci√≥n y luego inserta los productos del archivo `/data/productos-supermercado.json` en la base de datos MongoDB especificada en tu archivo `.env`.

> üí° *Si deseas utilizar otro conjunto de datos de la carpeta `/data`, modifica la ruta al archivo en el script `seed.js` antes de ejecutar el comando.*

### **6. Iniciar el Servidor**

Ejecuta el siguiente comando para iniciar la aplicaci√≥n. El servidor se iniciar√° en `http://localhost:3000`.

```bash
node app.js
```

---

## **Documentaci√≥n de la API**

La API cuenta con los siguientes endpoints para gestionar los productos.

### **CRUD B√°sico**

| M√©todo   | Endpoint             | Descripci√≥n                                       |
| :------- | :------------------- | :------------------------------------------------ |
| `GET`    | `/productos`         | Obtiene la lista completa de todos los productos. |
| `GET`    | `/productos/:codigo` | Obtiene un √∫nico producto por su c√≥digo √∫nico.    |
| `POST`   | `/productos`         | Crea un nuevo producto. (Requiere un body JSON).  |
| `PUT`    | `/productos/:codigo` | Actualiza un producto existente por su c√≥digo.    |
| `DELETE` | `/productos/:codigo` | Elimina un producto existente por su c√≥digo.      |

### **Endpoints Adicionales**

| M√©todo | Endpoint                       | Descripci√≥n                                                                             |
| :----- | :----------------------------- | :-------------------------------------------------------------------------------------- |
| `GET`  | `/productos/buscar`            | Busca productos cuyo nombre coincida con el t√©rmino enviado por query param (`?q=...`). |
| `GET`  | `/productos/categoria/:nombre` | Filtra los productos que pertenecen a una categor√≠a espec√≠fica.                         |
| `GET`  | `/productos/precio/:min-:max`  | Filtra los productos que se encuentran en un rango de precios.                          |
| `POST` | `/productos/masivo`            | Permite crear m√∫ltiples productos enviando un array de objetos en el body.              |

### **Ejemplos de Body para POST / PUT**

```json
{
  "codigo": "ABC-123",
  "nombre": "Producto de Ejemplo",
  "precio": 99.99,
  "categoria": ["ejemplo", "nuevo"]
}
```

---

## **Probando la API**

Para facilitar las pruebas, este proyecto incluye un archivo `api.http`. Puedes usar la extensi√≥n **[REST Client](https://marketplace.visualstudio.com/items?itemName=humao.rest-client)** para Visual Studio Code.

Una vez instalada, abre el archivo `api.http` y haz clic en `Send Request` sobre cada petici√≥n para probar los endpoints directamente desde el editor.

---
